<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Event Bubbling and event arguments</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
        
    </head>
    
    <body>
        
        <div class ="container"> 
                    <div class ="row"> 
            
        
            <div id="id1"><h1>Unique id 1</h1></div>
            <div id="id2"><h1>Unique id 2</h1></div> 
            <div id="id3"><h1>Unique id 3</h1></div> 
        
       
        
        
       
        <div id ="outer">
            
        <div id="id1"><h1>Unique id 1 outer</h1></div>
        
        <div id="id2"><h1>Unique id 2 outer</h1></div> 
        
        <div id="id3"><h1>Unique id 3 outer</h1></div> 
        
        <div id="id4"><h1>Unique id 4 outer</h1></div> 
        
        <div id="id5"><h1>Unique id 5 outer</h1></div> 
        
        <div id="id6"><h1>Unique id 6 outer</h1></div> 
        
        <div id="id7"><h1>Unique id 7 outer</h1></div> 
        
        <div id="id8"><h1>Unique id 8 outer</h1></div> 
        
        <div id="id9"><h1>Unique id 9 outer</h1></div>
        
         <div id="id10"><h1>Unique id 10 outer</h1></div>
        
       

        
            
        <div id="id11"><h1>Click me</h1></div>
        
        
        <ul id="id12"></ul>
        
            <form>
              <label for="fname">First name:</label><br>
              <input type="text" id="fname" name="fname"><br>
            </form>      
        <br>
        
        <button id="btn1">Add you name to the list</button>
        <br>
        <button id="btn2">Remove first name of the list</button>
        <br>
        <button id="btn3">Remove first name of the list</button>
        
        <table class="table">
            <thead>
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Year</th>
                  <th scope="col">Make</th>
                  <th scope="col">Model</th>
                  <th scope="col">Price</th>
                </tr>
            </thead>            
            <tbody id="col">
            </tbody>
        </table>
        
         <form>
              <label for="fname">Price:</label>
              <input type="text" id="fname" name="fname">
              <button id="btn4">Price less than</button>
            </form>      
        
        </div>
        </div>
       
     
       
        
        <script>
          
            let hej = document.getElementsByTagName("div");
            let x;
            for ( x = 0; x < hej.length; x ++) { 
                hej[x].setAttribute("style", " width:25px height:25px; margin:1px");
                // background-color:yellow;
            }
            
            // a) 
            let click = document.getElementById("id1");
            click.addEventListener("click", function() {
               console.log("Hi from id1")
            });
            
            // a) 
            let click2 = document.getElementById("id2");
            click2.addEventListener("click", function() {
               console.log("Hi from id2");
            });
            
            // a) 
            let outer = document.getElementById("outer");
            let noColor = outer.setAttribute("style", "background-color:none"); 
            outer.addEventListener("click", function() {
                let e = this;
                let target =  e.target; 
               console.log("Value of target e.id: " + e.id);
            });
            
            let empty = document.getElementById("id11");
             
            // Empty xx 
            empty.addEventListener("click", function() {
                let e = this;
                let target =  e.target; 
                document.getElementById("id11").innerHTML = "This is an empty div with e.id: " + e.id;
            });
            
         
            // Using map to create list’s (ul’s, tables etc.)
            // a
            let arr = new Array("Lars", "Peter", "Jan", "Ian");
            let arrMap = arr.map(function(x){
                return "<li>" + x + "</li>"; 
            });
            let arrJoin = arrMap.join("");
            document.getElementById("id12").innerHTML = arrJoin;
            
             // b
             let addName = document.getElementById("btn1"); 
             addName.addEventListener("click", function() {
                let name = document.getElementById("fname").value;
                let arrName = new Array(name, ... arr);
               // document.getElementById("id12").innerHTML = name;
                let arrNameMap = arrName.map(function(x){
                return "<li>" + x + "</li>"; 
                });
                let arrNameMapJoin = arrNameMap.join("");
                document.getElementById("id12").innerHTML = arrNameMapJoin;
                // console.log(arrName);               
            });
            
             // c
            let removeFirstName = document.getElementById("btn2"); 
            removeFirstName.addEventListener("click", function() {
                arr.splice(0,1);
                console.log(arr);
            });
            
            let removelastName = document.getElementById("btn3"); 
            removelastName.addEventListener("click", function() {
                let size = arr.length -1;
                arr.splice(size,1);
                console.log(arr);
            });
             
            // Using map and filter to create dynamic table-rows
            
            var cars = [
                { id: 1, year: 1997, make: 'Ford', model: 'E350', price: 3000 },
                { id: 2, year: 1999, make: 'Chevy', model: 'Venture', price: 4900 },
                { id: 3, year: 2000, make: 'Chevy', model: 'Venture', price: 5000 },
                { id: 4, year: 1996, make: 'Jeep', model: 'Grand Cherokee', price: 4799 },
                { id: 5, year: 2005, make: 'Volvo', model: 'V70', price: 44799 }
            ];
            
//            let carsId = cars.map(function(x){ 
//                return "<tr>" +
//                       "<td>" + x.id + "</td>" + 
//                       "<td>" + x.year + "</td>" + 
//                       "<td>" + x.make + "</td>" + 
//                       "<td>" + x.model + "</td>" + 
//                       "<td>" + x.price + "</td>" + "</tr>"; 
//            });
//            let idMap = carsId.join("");
//            document.getElementById("col").innerHTML = idMap;
            
            
 
        let new2 = function table(n1){               
            let carsId = n1.map(function(x){ 
            return "<tr>" +
                "<td>" + x.id + "</td>" + 
                "<td>" + x.year + "</td>" + 
                "<td>" + x.make + "</td>" + 
                "<td>" + x.model + "</td>" + 
                "<td>" + x.price + "</td>" + "</tr>"; 
             });
            let idMap = carsId.join("");
            // return idMap;
            return document.getElementById("col").innerHTML = idMap;
        };     
        new2(cars);
        //document.getElementById("col").innerHTML = new2(cars);
        
        let minprice= 4000;
        let minpricefilter = function(x) { 
        return x.price >= minprice;
        };
        cars = cars.filter(minpricefilter);
        new2(cars);
      
   
        // result = cars.filter(minpricefilter);
           
           
            
            
            
            
        
             
             
            
            
           
  
                       
        </script>
    </body>
</html>
